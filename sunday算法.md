字符串`substring search`，模式串`search`。

一开始，`u` 和 `e` 不匹配，则跳过模式串长度，观察紧接着的字符==i==是否在模式串中是否出现，未出现，则将模式串往右移到`n`的位置重新比较;

`n`和`s`不匹配，则跳过模式串长度，观察紧接着的字符==r==是否在模式串中出现，出现在倒数第 3 位，则将模式串往右移动 3 位，让两个 ==r==对齐

|     i: | 0    | 1    | 2    | 3    | 4    | 5    | 6     | 7    | 8    |    9 | 10    | 11   | 12   | 13    | 14   | 15   | 16   | 17   | 18   |
| -----: | ---- | ---- | ---- | ---- | ---- | ---- | ----- | ---- | ---- | ---: | ----- | ---- | ---- | ----- | ---- | ---- | ---- | ---- | ---- |
| **S**: | s    | `u`  | b    | s    | t    | r    | ==i== | `n`  | g    |      | s     | e    | a    | ==r== | c    | h    | i    | n    | g    |
| **P**: | s    | `e`  | a    | r    | c    | h    |       |      |      |      |       |      |      |       |      |      |      |      |      |
| **P**: |      |      |      |      |      |      |       | `s`  | e    |    a | ==r== | c    | h    |       |      |      |      |      |      |
| **P**: |      |      |      |      |      |      |       |      |      |      | s     | e    | a    | ==r== | c    | h    |      |      |      |

#### 为什么看到==i== 没有出现在模式串中就要向右移到`n`处呢？

这是因为不管移动多少，字符`i`是肯定要参加下一步的比较的，现在子串`search`中并不存在`i`，而模式串长度范围内的字符都不用管是否匹配了，即可以直接跳过一大片（模式串长度+字符`i`），从`i`之后的那个字符开始作下一步的比较，也就是`n`。如下图，假设字符串是`susearing...`或`suarching...`，即使`sear`部分或`arch`部分 和模式串中的子串相同，也都可以直接跳过。另外，说句题外话，这几个子串看着很像的现象，实际上是编辑距离问题，可以另外讨论。

|     i: | 0    | 1    | 2    | 3    | 4    | 5    | 6     | 7    | 8    |    9 | 10    | 11   | 12   | 13    | 14   | 15   | 16   | 17   | 18   |
| -----: | ---- | ---- | ---- | ---- | ---- | ---- | ----- | ---- | ---- | ---: | ----- | ---- | ---- | ----- | ---- | ---- | ---- | ---- | ---- |
| **S**: | s    | `u`  | s    | e    | a    | r    | ==i== | `n`  | g    |      | s     | e    | a    | ==r== | c    | h    | i    | n    | g    |
| **S**: | s    | `u`  | a    | r    | c    | h    | ==i== | `n`  | g    |      | s     | e    | a    | ==r== | c    | h    | i    | n    |      |
| **P**: | s    | `e`  | a    | r    | c    | h    |       |      |      |      |       |      |      |       |      |      |      |      |      |
| **P**: |      |      |      |      |      |      |       | `s`  | e    |    a | ==r== | c    | h    |       |      |      |      |      |      |
| **P**: |      |      |      |      |      |      |       |      |      |      | s     | e    | a    | ==r== | c    | h    |      |      |      |

#### 为什么==r==在模式串中出现了，却要从倒数开始移动呢？

不妨看看下面这两种情况，情况1，字符串对应如下。如果根据顺数r 去移动模式串，确实也是一下子就找到了。如果是根据倒数 r 去移动，反而要多移动一次。

| **S:** | n    | g     |      | a     | b    | s    | ==r== | a     | r    | ==c== | h    | i    | n    |
| ------ | ---- | ----- | ---- | ----- | ---- | ---- | ----- | ----- | ---- | ----- | ---- | ---- | ---- |
| **P:** | s    | ==r== | a    | ==r== | c    | h    |       |       |      |       |      |      |      |
|        |      |       |      |       |      | s    | ==r== | a     | r    | c     | h    |      |      |
| P:     |      |       |      | s     | r    | a    | ==r== | ==c== | h    |       |      |      |      |
|        |      |       |      |       |      | s    | r     | a     | r    | ==c== | h    |      |      |

再看情况 2，字符串对应如下。如果根据顺数r 去移动，则匹配不上。因为右移的太多了。所以从倒数开始移动，可能会需要多移动几次，但会保证不会漏掉。

| **S:** | n    | g     |      | s    | r    | a    | ==r== | a    | r    | c    | h    | i    | n    |
| ------ | ---- | ----- | ---- | ---- | ---- | ---- | ----- | ---- | ---- | ---- | ---- | ---- | ---- |
| **P:** | s    | ==r== | a    | r    | c    | h    |       |      |      |      |      |      |      |
| P:     |      |       |      |      |      | s    | ==r== | a    | r    | c    | h    |      |      |



